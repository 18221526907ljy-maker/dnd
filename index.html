<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>诺艾利亚的旅途 | Noelier's Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. 全局变量与重置 --- */
        :root {
            --primary-gold: #ffd700;
            --bg-dark: #0f1014;
            --glass-bg: rgba(20, 20, 25, 0.75);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-glow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--bg-dark);
            font-family: 'Noto Serif SC', serif;
            color: white;
            user-select: none; /* 禁止选中文本，更像App */
        }

        /* --- 2. 沉浸式动态背景 --- */
        #bg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            /* 选用一张精美的二次元幻想风景图 */
            background-image: url('https://images.alphacoders.com/133/1330364.png'); 
            /* 备用图源：如果上面挂了，会显示深色 */
            background-size: cover;
            background-position: center;
            z-index: 1;
            filter: brightness(0.6); /* 压暗背景，突出前景 */
            transition: transform 10s ease-out;
        }
        
        /* 粒子画布 */
        #particle-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2; pointer-events: none;
        }

        /* --- 3. 桌面/UI 容器 --- */
        .ui-container {
            position: relative;
            width: 100%; height: 100%;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- 4. 物品卡片 (Card System) --- */
        .item-card {
            position: absolute;
            width: 100px; height: 100px;
            border-radius: 16px;
            /* 毛玻璃效果 */
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            
            display: flex; justify-content: center; align-items: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* 物品内的图标图片 */
        .item-icon {
            width: 70%; height: 70%;
            object-fit: contain;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
            transition: transform 0.3s ease;
        }

        /* 悬停特效 */
        .item-card:hover {
            transform: scale(1.15) translateY(-10px);
            border-color: rgba(255, 215, 0, 0.6);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1);
        }
        .item-card:hover .item-icon {
            transform: scale(1.1) rotate(5deg);
        }

        /* 标签文字 */
        .item-label {
            position: absolute;
            bottom: -30px;
            font-family: 'Ma Shan Zheng', cursive; /* 书法字体 */
            font-size: 1.2rem;
            color: var(--primary-gold);
            text-shadow: 0 2px 4px black;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            white-space: nowrap;
        }
        .item-card:hover .item-label { opacity: 1; bottom: -40px; }

        /* --- 物品定位 (布局) --- */
        /* A. 古籍 (中心) */
        #card-book { top: 50%; left: 50%; width: 160px; height: 160px; transform: translate(-50%, -50%); z-index: 5; }
        
        /* B. 圣徽 (左上) */
        #card-paladin { top: 20%; left: 20%; animation: float 6s ease-in-out infinite; }
        
        /* C. 水晶 (右上) */
        #card-elf { top: 25%; right: 20%; animation: float 5s ease-in-out infinite 1s; }
        
        /* D. 铁牌 (左下) */
        #card-merc { top: 65%; left: 25%; animation: float 7s ease-in-out infinite 0.5s; }
        
        /* E. 金币 (右下) */
        #card-rogue { top: 70%; right: 25%; animation: float 4s ease-in-out infinite 2s; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* --- 5. 移动端适配 --- */
        @media (max-width: 768px) {
            #card-book { width: 140px; height: 140px; top: 45%; }
            #card-paladin { top: 15%; left: 10%; width: 80px; height: 80px; }
            #card-elf { top: 15%; right: 10%; width: 80px; height: 80px; }
            #card-merc { top: 70%; left: 15%; width: 80px; height: 80px; }
            #card-rogue { top: 75%; right: 15%; width: 80px; height: 80px; }
        }

        /* --- 6. 视觉小说式弹窗 (UI) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .dialogue-box {
            position: relative;
            width: 80%; max-width: 600px;
            background: rgba(18, 20, 30, 0.95);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), inset 0 0 100px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            
            /* 装饰线条 */
            background-image: 
                linear-gradient(to right, rgba(255,215,0,0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255,215,0,0.1) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-overlay.active .dialogue-box { transform: scale(1); }

        .char-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 2.5rem;
            background: linear-gradient(to right, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 10px 0;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        .char-subtitle {
            font-size: 1rem; color: #8899a6; margin-bottom: 20px;
            text-transform: uppercase; letter-spacing: 2px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            display: inline-block;
        }

        .story-text {
            font-size: 1.1rem; line-height: 1.8; color: #e0e0e0;
            text-align: justify;
        }
        
        .story-text strong { color: #ffca28; }

        .close-btn {
            position: absolute; top: 15px; right: 20px;
            font-size: 1.5rem; color: #666; cursor: pointer;
            transition: color 0.2s;
        }
        .close-btn:hover { color: #fff; }

    </style>
</head>
<body>

    <div id="bg-layer"></div>
    <canvas id="particle-canvas"></canvas>

    <div class="ui-container">
        
        <div id="card-book" class="item-card" onclick="openModal('book')">
            <img src="https://img.icons8.com/external-flaticons-flat-flat-icons/100/external-spellbook-fantasy-flaticons-flat-flat-icons.png" class="item-icon" alt="Book">
            <div class="item-label">东方秘典</div>
        </div>

        <div id="card-paladin" class="item-card" onclick="openModal('paladin')">
            <img src="https://img.icons8.com/color/96/security-checked--v1.png" class="item-icon" alt="Shield">
            <div class="item-label">家族银徽</div>
        </div>

        <div id="card-elf" class="item-card" onclick="openModal('elf')">
            <img src="https://img.icons8.com/color/96/emerald.png" class="item-icon" alt="Gem">
            <div class="item-label">森林之心</div>
        </div>

        <div id="card-merc" class="item-card" onclick="openModal('merc')">
            <img src="https://img.icons8.com/color/96/dog-tag.png" class="item-icon" alt="Tag">
            <div class="item-label">无名之牌</div>
        </div>

        <div id="card-rogue" class="item-card" onclick="openModal('rogue')">
            <img src="https://img.icons8.com/fluency/96/stack-of-coins.png" class="item-icon" alt="Coin">
            <div class="item-label">幸运金币</div>
        </div>
        
    </div>

    <div id="modal" class="modal-overlay" onclick="closeModal()">
        <div class="dialogue-box" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal()">✕</span>
            <h2 id="m-title" class="char-title">角色名</h2>
            <div id="m-sub" class="char-subtitle">ROLE TITLE</div>
            <div id="m-text" class="story-text">故事内容...</div>
        </div>
    </div>

    <script>
        // --- 故事数据库 ---
        const stories = {
            'book': {
                title: "诺艾利亚的秘典",
                sub: "WIZARD / PROTAGONIST",
                text: "在这本绘满符文的法术书夹层里，藏着几页泛黄的手稿。那是关于一个遥远东方教派的记载——<b>“道”</b>。<br><br>在这个魔法工业革命轰鸣的时代，我是法师塔里唯一的异类。我听不见机器的运转声，我只想听见大地的呼吸。为了寻找这虚无缥缈的真理，我走出了高塔，踏入了库德马克的混乱雨夜。"
            },
            'paladin': {
                title: "瑟兰提斯的誓言",
                sub: "PALADIN / NOBLE",
                text: "这枚银徽不仅仅是德拉维昂家族的荣耀，更是一把精致的锁。瑟兰提斯每天擦拭它，看着镜中那个被厚重板甲包裹的自己。<br><br><b>“责任”</b>二字压得她喘不过气。直到她遇见了这群毫无规矩的队友，她才第一次感觉到，或许手中的剑除了守护家族，也可以为了斩断自己的枷锁而挥舞。"
            },
            'elf': {
                title: "伊索瑞安的萤石",
                sub: "ELF RANGER / THE SUN",
                text: "这颗翠绿的萤石来自森林的最深处，那是他家乡凝固的眼泪。伊索瑞安总是把它举过头顶，透过它去看浑浊的天空。<br><br>他是队伍里不知阴霾的太阳，渴望着传说中的冒险。但他终将明白，真正的传奇不是吟游诗人嘴里的赞歌，而是他在战友倒下时，颤抖着射出的那支必中的光箭。"
            },
            'merc': {
                title: "雷肖恩的空牌",
                sub: "MERCENARY / THE ANCHOR",
                text: "一块没有任何刻字的铁牌，冰冷而粗糙。对于一个从库德马克贫民窟爬出来的半兽人混血来说，名字是多余的奢侈品。<br><br>他习惯了沉默，习惯了像工具一样被使用。直到那个夜晚，诺艾利亚拉住了他沾满鲜血的手。现在的他，正在这块铁牌上预留一个位置，等待刻下那个名为<b>“家”</b>的字眼。"
            },
            'rogue': {
                title: "杰拉弗斯的赌注",
                sub: "TIEFLING ROGUE",
                text: "一枚被摩挲得发亮的金币。提夫林少年总是一边坏笑着抛起它，一边观察着队友的表情。<br><br>在这个充满偏见的世界里，他用狡黠和谎言武装自己。但这枚金币从不离身，因为那是他唯一的底气。他并不是真的贪婪，他只是在攒钱，试图从命运手里买回一个不被驱逐的席位。"
            }
        };

        // --- 交互逻辑 ---
        const modal = document.getElementById('modal');
        const mTitle = document.getElementById('m-title');
        const mSub = document.getElementById('m-sub');
        const mText = document.getElementById('m-text');

        function openModal(key) {
            const data = stories[key];
            if(data) {
                mTitle.innerHTML = data.title;
                mSub.innerHTML = data.sub;
                mText.innerHTML = data.text;
                modal.classList.add('active');
            }
        }

        function closeModal() {
            modal.classList.remove('active');
        }

        // --- 粒子系统 (营造二次元魔法氛围) ---
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        const particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * width;
                this.y = height + Math.random() * 100;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = -Math.random() * 1 - 0.5;
                this.size = Math.random() * 2 + 1;
                this.alpha = Math.random() * 0.5 + 0.2;
                this.fade = Math.random() * 0.01 + 0.005;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.alpha -= this.fade;
                if(this.alpha <= 0) this.reset();
            }
            draw() {
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = '#ffd700'; // 金色粒子
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for(let i=0; i<50; i++) particles.push(new Particle());

        function animate() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(animate);
        }
        animate();

    </script>
</body>
</html>
